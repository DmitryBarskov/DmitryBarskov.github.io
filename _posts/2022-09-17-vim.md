---
layout: post
title:  "Vim"
date:   2022-09-17 11:33:00 +0100
categories: tools
---

# `HJKL` explained

![vim logo](https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Vimlogo.svg/240px-Vimlogo.svg.png)

Note: VIM is a command line text editor where you only your keyboard (no mouse)
to navigate files and text. It is based on Vi - which is installed everywhere.

---

## Vi IMproved

Vim is a free text command line editor\
that utilizes only your keyboard.

![keyboard example](/assets/img/2022-09-17-vim/keyboard.png)

Note: it uses such a keyboard to edit text, navigate files and perform commands.
So no mouse required and even such things as numpad, F keys and arrows.

---

## Why?

- it is everywhere
- to speed up
- vim is super fast compared to fancy IDEs
- vim can run on your grandma's PC
- to not reboot your PC on `git commit`
- to show off and look cool ðŸ˜Ž
- it is more than everywhere

Note: vim or at least vi installed on every machine and if you have to SSH
somewhere you can use vim there. Thanks to not moving your hands to mouse and
back and high customizability you can type faster.
Vim is performant and lightweight and can run everywhere and
it is fast on your fancy PC. When you type `git commit`
without the `-m` flag it will open vim so you have to know how to exit vim.
Vim is not only installed everywhere
but its navigation keys are used very commonly: `less`, `vi`, `vim`, `git-diff`,
some sites in the web, browser plugins, this presentation.

---

## How to quit VIM

Unplug the socket! Or...

```vimscript
:wq
" or
:q!
```

---

## Vim modes

Attention to the bottom left corner

Note: There are different modes in VIM: NORMAL, INSERT, REPLACE, VISUAL,
command, command line.

---

### NORMAL mode

Press `ESC`

![normal mode](/assets/img/2022-09-17-vim/normal.png)

Note: - NORMAL to navigate, manipulate text. Normal mode is base mode where
you can switch to other modes from.

---

### INSERT mode

```vim
i " insert mode before the caret
I " insert mode at the line beginning
a " append (go to INSERT after the caret)
A " append to current line
o " open a new line below and start INSERT
```

![insert mode](/assets/img/2022-09-17-vim/insert.png)

Note: - use INSERT to type text in

---

### COMMAND mode

Press `:` in NORMAL

![command mode](/assets/img/2022-09-17-vim/command.png)

Note: - use COMMAND to manipulate VIM or run commands. `:!` starts a usual
shell command.

---

### VISUAL mode

```vim
v " go to visual mode
V " start visual mode with whole current line selected
```

![visual mode](/assets/img/2022-09-17-vim/visual.png)

---

## vimtutor in a nutshell

---

### How to quit VIM

Unplug the socket! Or...

```vim
:wq
" or
:q!

:write | quit
:quit
:exit
```

Note: `:q` is a shorthand for `:quit` and `:wq` is `:write | quit`. Using `!`
at the end means **force**.

---

### Motions

```vim
h " move cursor left
j " move cursor down
k " move cursor up
l " move cursor right
0 " move to the beginning of current line
$ " move to the end of current line
e " jump to the next word end
w " jump to the next word beginning
b " jump to previous word beginning
% " jump to matching bracket
```

```vim
5b " jump 5 words backwards
5gg " jump to 5th line in the file
G " jump to the end of file
f; " jump to next ';' symbol
]m " jump to next method
[m " jump to previous method
```

Note: Motions are keybindings to navigate in text. They can combined with
numbers to perform navigation some number of times.

---

### Searching

```vim
/something " search for 'something' string (maybe a regex)
n " jump to next search occurrence
N " jump to previous search occurrence
<C-o> " jump back

" search for 'oldVariableName' and replace with 'aBetterName'
:s/oldVariableName/aBetterName

" replace 'text' with 'string' between line 100 and 200
" and prompt every time for replacement
:100,200s/text/string/gc
```

Note: Regular search in file like in any IDE, maybe a bit more powerful.

---

### Editing

In NORMAL

```vim
x " delete current symbol
i " go to insert mode before the cursor
o " start a new line after current line
p " paste copied text after the cursor
a " go to insert mode after the cursor
A " go to insert mode at the end of line
s " remove selected symbol and start INSERT
R " go to REPLACE mode
u " undo the last change
U " undo all changes in current line
<C-r> " redo undone change
```

Note: Basic text editing. Can be combined with numbers too. Any deleted text is
copied.

---

### Operators

Combine an operator with a motion

`d` - delete operator\
`c` - change operator\
`y` - yank (copy) operator

```vim
dw  " delete text to the end of word
diw " delete in word (delete current word)
d$  " delete to the end of current line
dd  " delete current line
ci( " change in () - delete text and start INSERT
cc  " change current line
c$  " change text to the end of current line
yy  " copy current line
y5j " copy 5 lines below
```

Note: Operators combined with numbers and motions give super powerful
text editing.

---

### Managing files

```vim
:write " save content to current file. :w is shorthand

" save content to example.txt file. If in VISUAL it saves only selected text
:write example.txt

" read example.txt and insert its content at the cursor. :r is a shorthand
:read example.txt

:read !ls " insert current directory's file list
```

Note: powerful features for copy-pasting, etc

---

## Splits

```vim
<C-w> s " create (default horizontal) split
<C-w> v " create vertical split

<C-w> h " jump to left split
<C-w> j " jump to lower split
<C-w> k " jump to upper split
<C-w> l " jump to right split
<C-w> H " move split to the left
<C-w> J " move split to the bottom
<C-w> K " move split to the top
<C-w> L " move split to the right

<C-w> + " increase split
<C-w> - " shrink split
<C-w> = " equalize splits
```

Note: You can create as many splits as you want, resize and locate them as you
want. Also there are tabs in vim :)

---

## Automate

Just try typing `.` a few times

or

```vim
" append ; to the end of line
nnoremap <F1> A;<ESC>j

" turn current word to XML tag
nmap <F7> byei<<ESC>ea></<C-R>0><ESC>
```

---

### Macro

1. Press `q` and some letter as macro name
2. Perform some actions
3. Press `q`
4. Replay macro with `@` and macro name

---

### Fix your typos

```vim
:iabbrev saerch search
```

---

## Learn vim

Run `vimtutor` command.

In vim help `:help`.

Note: before using vim I highly recommend to remap CAPS LOCK key to ESC.

---

## Plugins

Visit [vimawesome](https://vimawesome.com)

---

## Questions?

Email me [dmitry.barskov64@gmail.com](mailto:dmitry.barskov64@gmail.com?subject=vim)
